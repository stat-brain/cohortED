% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compare_achievement_mobility.R
\name{compare_achievement_mobility}
\alias{compare_achievement_mobility}
\title{Compare Achievement Levels by Student Mobility Status Across Two Years}
\usage{
compare_achievement_mobility(
  dataset,
  current_year,
  current_grade,
  achievement_levels
)
}
\arguments{
\item{dataset}{A data frame containing student-level data, including identifiers, grade, year, mobility status, and achievement levels.}

\item{current_year}{A character string giving the current school year (e.g., \code{"2023-2024"}).}

\item{current_grade}{An integer giving the current grade level (e.g., \code{5}).}

\item{achievement_levels}{A character vector defining the ordered achievement levels to display (e.g., \code{c("Unsatisfactory", "Partially Proficient", "Proficient", "Advanced")}).}
}
\value{
A list with the following elements:
\describe{
\item{\code{Previous_Table}}{A matrix of percent proficient by mobility group from the previous school year.}
\item{\code{Current_Table}}{A matrix of percent proficient by mobility group from the current school year.}
\item{\code{Data}}{A combined long-format data frame of achievement level percentages by mobility group across both years.}
\item{\code{Group_Sizes}}{A list of data frames showing the number of students per mobility group for each year.}
\item{\code{Most_Common_Level}}{A list of data frames showing the most common achievement level for each mobility group in each year.}
\item{\code{Achievement_Change_Summary}}{A data frame showing the percent change in each achievement level by mobility group across years.}
\item{\code{Stay_Change_Summary}}{A data frame showing how "Stay" students' achievement changed (Improved, No Change, Declined).}
\item{\code{Comparison_Plot}}{A side-by-side bar plot comparing achievement distributions by mobility status for each year.}
\item{\code{Stay_Change_Plot}}{A bar plot showing the direction of change for "Stay" students.}
\item{\code{Caption}}{A character string describing the comparison.}
\item{\code{Note}}{A short note clarifying that "Stay" represents a true cohort; "Join" and "Leave" are not tracked longitudinally.}
}
}
\description{
This function compares the distribution of achievement levels among students grouped by
mobility status (e.g., Stay, Join, Leave) across two consecutive school years.
It returns tables, plots, and summary data useful for analyzing cohort stability
and performance trends. The "Stay" group represents a true cohort of students observed
in both years, while the "Join" and "Leave" groups represent those entering or exiting.
}
\details{
Internally calls \code{\link{plot_alluvial_mobility}} to construct matched student data across years.
Students with missing or "No Score" achievement data are excluded from analysis.
}
\examples{
compare_achievement_mobility(
  dataset = math,
  current_year = "2023-2024",
  current_grade = 5,
  achievement_levels = c("Advanced", "Proficient", "Partially Proficient", "Unsatisfactory")
)
 
}

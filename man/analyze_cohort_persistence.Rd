% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analyze_cohort_persistence.R
\name{analyze_cohort_persistence}
\alias{analyze_cohort_persistence}
\title{Analyze Cohort Persistence}
\usage{
analyze_cohort_persistence(
  dataset,
  start_grade,
  start_year,
  end_grade = NULL,
  subset_expr = NULL
)
}
\arguments{
\item{dataset}{Data frame containing at least student IDs, grades, and years.}

\item{start_grade}{Numeric or character; cohort start grade.}

\item{start_year}{Numeric or character; cohort start year (calendar year).}

\item{end_grade}{Optional numeric or character; last grade to include in analysis.
Defaults to max grade found in the dataset.}

\item{subset_expr}{Optional expression for subsetting the dataset before analysis.
This is evaluated in the context of the dataset (e.g., Gender == "Female").}
}
\value{
A named list with elements:
\describe{
\item{Summary}{Data frame summarizing cohorts by join year/grade, year, grade, counts, and persistence percentages.}
\item{Retention_Table}{Wide-format table of cohort persistence percentages by cohort and grade.}
\item{Persistence_Data}{List of data frames for persistent student records by year.}
\item{Entry_Data}{List of new entrants for each join cohort.}
\item{Entry_Trajectories}{List of persistence trajectories for new entrants by join cohort.}
\item{Line_Plot}{ggplot2 object showing cohort persistence over grades.}
\item{Heatmap_Plot}{ggplot2 heatmap showing persistence percentages by years since join and cohort.}
\item{Enrollment_Plot}{ggplot2 line plot of enrollment counts by grade and cohort.}
\item{Enrollment_Barplot}{ggplot2 stacked bar plot of enrollment by academic year and cohort.}
\item{Retention_Plot}{ggplot2 plot showing cohort retention dropoff over time.}
\item{Statistics}{List of summary statistics including initial/final counts and retention rates.}
}
}
\description{
Computes student cohort persistence starting from a specified grade and year.
Tracks new students who enter each subsequent grade-year and their persistence.
Produces summary tables and several plots including line plots, heatmaps,
enrollment plots, and retention dropoff plots.

Optionally allows subsetting the dataset prior to analysis.
}
\details{
Analyze Cohort Persistence with Entry and Retention Tracking
}
\examples{
analyze_cohort_persistence(dataset = math, start_year = 2019, start_grade = 3, end_grade = 5)

}
